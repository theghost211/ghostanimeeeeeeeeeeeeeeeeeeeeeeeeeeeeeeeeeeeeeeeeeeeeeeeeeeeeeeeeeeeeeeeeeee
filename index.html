<meta name='viewport' content='width=device-width, initial-scale=1'/><!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Ghost Anime</title>
  <style>
    * { box-sizing: border-box; }

    html, body {
      margin: 0;
      padding: 0;
      width: 100%;
      height: 100%;
      overflow-x: hidden;
      font-family: sans-serif;
      background-color: #121212;
      color: white;
    }

    header {
      padding: 20px;
      background-color: #1c1c1c;
      text-align: center;
      font-size: 24px;
      font-weight: bold;
    }

    .search-share {
      display: flex;
      gap: 10px;
      padding: 10px;
      justify-content: center;
      flex-wrap: wrap;
    }

    .search-share input {
      flex: 1;
      min-width: 200px;
      padding: 10px;
      border-radius: 20px;
      border: none;
      outline: none;
    }

    .search-share button {
      background-color: #1e90ff;
      border: none;
      color: white;
      padding: 10px 15px;
      border-radius: 20px;
      cursor: pointer;
    }

    .categories {
      display: flex;
      overflow-x: auto;
      gap: 10px;
      padding: 10px;
    }

    .categories button {
      background-color: #2a2a2a;
      border: 1px solid #444;
      color: white;
      padding: 10px 20px;
      border-radius: 25px;
      white-space: nowrap;
      cursor: pointer;
      transition: background-color 0.3s;
      flex-shrink: 0;
    }

    .categories button.active,
    .categories button:hover {
      background-color: #1e90ff;
      border-color: #1e90ff;
    }

    .section-title {
      padding: 10px 20px;
      font-size: 18px;
      font-weight: bold;
    }

    .anime-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
      gap: 10px;
      padding: 0 10px 60px;
    }

    .anime-card {
      background-color: #1f1f1f;
      border-radius: 10px;
      overflow: hidden;
      text-align: center;
      font-size: 14px;
      cursor: pointer;
    }

    .anime-card img {
      width: 100%;
      height: 180px;
      object-fit: cover;
    }

    .anime-card .title {
      padding: 5px 5px 0;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .anime-card .ep {
      color: #aaa;
      font-size: 12px;
      margin-bottom: 8px;
    }

    .bottom-nav {
      position: fixed;
      bottom: 0;
      left: 0;
      width: 100%;
      background-color: #1c1c1c;
      display: flex;
      justify-content: space-around;
      padding: 10px 0;
      border-top: 1px solid #333;
      font-size: 14px;
      z-index: 1000;
    }

    .bottom-nav a {
      color: white;
      text-align: center;
      font-size: 12px;
      text-decoration: none;
      user-select: none;
    }

    .bottom-nav a:hover {
      color: #1e90ff;
    }

    .anime-details {
      display: none;
      padding: 20px;
      text-align: center;
    }

    .anime-details img {
      width: 200px;
      border-radius: 10px;
      margin-bottom: 10px;
    }

    .anime-details h2 {
      margin-top: 10px;
    }

    .anime-details p {
      color: #ccc;
      padding: 0 20px;
    }

    .episodes {
      padding: 10px 20px 60px;
    }

    .episodes button {
      margin: 5px 3px;
      padding: 6px 10px;
      border-radius: 15px;
      border: none;
      background-color: #333;
      color: white;
      cursor: pointer;
    }

    .episodes button.active {
      background-color: #1e90ff;
    }

    .episodes video {
      width: 100%;
      margin-top: 15px;
      border-radius: 10px;
      background-color: black;
    }

    .back-button {
      background-color: #1e90ff;
      color: white;
      padding: 10px 20px;
      border: none;
      border-radius: 20px;
      cursor: pointer;
      margin: 20px;
    }

    @media (orientation: landscape) {
      .anime-grid {
        grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
      }

      .anime-card img {
        height: 140px;
      }

      .anime-details img {
        width: 250px;
      }
    }
  </style>
</head>
<body>

<header>Ghost Anime</header>

<div class="search-share">
  <input type="text" id="search" placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† Ø£Ù†Ù…ÙŠ..." oninput="searchAnime()">
  <button onclick="shareSite()">ğŸ“¤ Ø´Ø§Ø±Ùƒ</button>
</div>

<div class="categories">
  <button class="active" onclick="filterCategory('Ø§Ù„ÙƒÙ„')">Ø§Ù„ÙƒÙ„</button>
  <button onclick="filterCategory('Ø§Ù†Ù…ÙŠØ§Øª Ø¬Ø¯ÙŠØ¯Ù‡')">Ø§Ù†Ù…ÙŠØ§Øª Ø¬Ø¯ÙŠØ¯Ù‡</button>
  <button onclick="filterCategory('Ø£ÙƒØ´Ù†')">Ø£ÙƒØ´Ù†</button>
  <button onclick="filterCategory('Ù…ØºØ§Ù…Ø±Ø§Øª')">Ù…ØºØ§Ù…Ø±Ø§Øª</button>
  <button onclick="filterCategory('Ø³ÙŠØ§Ø±Ø§Øª')">Ø³ÙŠØ§Ø±Ø§Øª</button>
  <button onclick="filterCategory('ÙƒÙˆÙ…ÙŠØ¯ÙŠ')">ÙƒÙˆÙ…ÙŠØ¯ÙŠ</button>
  <button onclick="filterCategory('Ø¹ØªÙ‡')">Ø¹ØªÙ‡</button>
  <button onclick="filterCategory('Ø´ÙŠØ§Ø·ÙŠÙ†')">Ø´ÙŠØ§Ø·ÙŠÙ†</button>
  <button onclick="filterCategory('Ø¯Ø±Ø§Ù…Ø§')">Ø¯Ø±Ø§Ù…Ø§</button>
  <button onclick="filterCategory('Ø®ÙŠØ§Ù„')">Ø®ÙŠØ§Ù„</button>
  <button onclick="filterCategory('Ù„Ø¹Ø¨Ø©')">Ù„Ø¹Ø¨Ø©</button>
  <button onclick="filterCategory('ØªØ§Ø±ÙŠØ®ÙŠ')">ØªØ§Ø±ÙŠØ®ÙŠ</button>
  <button onclick="filterCategory('Ø±Ø¹Ø¨')">Ø±Ø¹Ø¨</button>
  <button onclick="filterCategory('Ø³Ø­Ø±')">Ø³Ø­Ø±</button>
  <button onclick="filterCategory('ÙÙ†ÙˆÙ† Ù‚ØªØ§Ù„')">ÙÙ†ÙˆÙ† Ù‚ØªØ§Ù„</button>
  <button onclick="filterCategory('Ø¢Ù„ÙŠ')">Ø¢Ù„ÙŠ</button>
  <button onclick="filterCategory('Ø¹Ø³ÙƒØ±ÙŠ')">Ø¹Ø³ÙƒØ±ÙŠ</button>
  <button onclick="filterCategory('Ù…ÙˆØ³ÙŠÙ‚Ù‰')">Ù…ÙˆØ³ÙŠÙ‚Ù‰</button>
  <button onclick="filterCategory('Ø§Ù„ØºÙ…ÙˆØ¶')">Ø§Ù„ØºÙ…ÙˆØ¶</button>
  <button onclick="filterCategory('Ø´Ø±Ø·Ø©')">Ø´Ø±Ø·Ø©</button>
  <button onclick="filterCategory('Ù†ÙØ³ÙŠ')">Ù†ÙØ³ÙŠ</button>
  <button onclick="filterCategory('Ø±ÙˆÙ…Ø§Ù†Ø³ÙŠ')">Ø±ÙˆÙ…Ø§Ù†Ø³ÙŠ</button>
  <button onclick="filterCategory('Ø§Ù„Ø³Ø§Ù…ÙˆØ±Ø§ÙŠ')">Ø§Ù„Ø³Ø§Ù…ÙˆØ±Ø§ÙŠ</button>
  <button onclick="filterCategory('Ù…Ø¯Ø±Ø³ÙŠ')">Ù…Ø¯Ø±Ø³ÙŠ</button>
  <button onclick="filterCategory('Ù…ØµØ§Øµ Ø¯Ù…Ø§Ø¡')">Ù…ØµØ§Øµ Ø¯Ù…Ø§Ø¡</button>
</div>

<div class="section-title">Ø§Ù„Ø£Ù†Ù…ÙŠØ§Øª</div>
<div class="anime-grid" id="anime-list"></div>

<div class="anime-details" id="anime-details">
  <button class="back-button" onclick="showMain()">â† Ø±Ø¬ÙˆØ¹</button>
  <img id="anime-img" src="" alt="ØµÙˆØ±Ø© Ø§Ù„Ø£Ù†Ù…ÙŠ" />
  <h2 id="anime-title">Ø¹Ù†ÙˆØ§Ù†</h2>
  <p id="anime-description">ÙˆØµÙ Ø§Ù„Ø£Ù†Ù…ÙŠ</p>
  <div class="section-title">Ø§Ù„Ø­Ù„Ù‚Ø§Øª</div>
  <div class="episodes" id="episodes-list"></div>
</div>

<div class="bottom-nav">
  <a href="#">ğŸ <br>Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
</div>

<script>
  const animeData = [
    {
      id: 1,
       title: "Tokyo Ghoul:re 2nd Season",
       categories: ["Ø£ÙƒØ´Ù†", "Ø§Ù†Ù…ÙŠØ§Øª Ø¬Ø¯ÙŠØ¯Ù‡", "Ø±Ø¹Ø¨"],
       description: "Ù‚ØµØ© Ø§Ù„Ø§Ù†Ù…ÙŠ : Ø§Ù„Ù…ÙˆØ³Ù… Ø§Ù„Ø«Ø§Ù†ÙŠ Ù…Ù† Ø§Ù†Ù…ÙŠ Tokyo Ghoul:re ",
        image: "https://cdn.discordapp.com/attachments/1380004558222131200/1380023673238454282/IMG_4710.jpg?ex=684501b3&is=6843b033&hm=deb9a9ac5833498bf94772dc9852ef2fcf93cff9d8f0e868fbe2e996adb7a9de&",
        episodes: [
          { number: 1, title: "Ø­Ù„Ù‚Ø© 1", url: "https://server.sanime.net/Video3/2936/1.mp4" },
          { number: 2, title: "Ø­Ù„Ù‚Ø© 2", url: "https://server.sanime.net/Video3/2936/2.mp4" },
          { number: 3, title: "Ø­Ù„Ù‚Ø© 3", url: "https://server.sanime.net/Video3/2936/3.mp4" },
          { number: 4, title: "Ø­Ù„Ù‚Ø© 4", url: "https://server.sanime.net/Video3/2936/4.mp4" },
          { number: 5, title: "Ø­Ù„Ù‚Ø© 5", url: "https://server.sanime.net/Video3/2936/5.mp4" },
          { number: 6, title: "Ø­Ù„Ù‚Ø© 6", url: "https://server.sanime.net/Video3/2936/6.mp4" },
          { number: 7, title: "Ø­Ù„Ù‚Ø© 7", url: "https://server.sanime.net/Video3/2936/7.mp4" },
          { number: 8, title: "Ø­Ù„Ù‚Ø© 8", url: "https://server.sanime.net/Video3/2936/8.mp4" },
          { number: 9, title: "Ø­Ù„Ù‚Ø© 9", url: "https://server.sanime.net/Video3/2936/9.mp4" },
          { number: 10, title: "Ø­Ù„Ù‚Ø© 10", url: "https://server.sanime.net/Video3/2936/10.mp4" },
          { number: 11, title: "Ø­Ù„Ù‚Ø© 11", url: "https://server.sanime.net/Video3/2936/11.mp4" },
          { number: 12, title: "Ø­Ù„Ù‚Ø© 12", url: "https://server.sanime.net/Video3/2936/12.mp4" },

      ]
    },
    {
      id: 2,
      title: "Tokyo Ghoul âˆšA",
        categories: ["Ø£ÙƒØ´Ù†", "Ø§Ù†Ù…ÙŠØ§Øª Ø¬Ø¯ÙŠØ¯Ù‡"],
        description: "Ù‚ØµØ© Ø§Ù„Ø§Ù†Ù…ÙŠ : Ø§Ù„Ù…ÙˆØ³Ù… Ø§Ù„Ø«Ø§Ù†ÙŠ Ù„Ø£Ù†Ù…ÙŠ Tokyo Ghoul ",
        image: "https://cdn.discordapp.com/attachments/1380004558222131200/1380023672311513158/IMG_4706.jpg?ex=684458f3&is=68430773&hm=a2c11efe45169404c01ab495b4e632a91b8cd2dd8811b862dc65b22f1d46152f&",
        episodes: [
          { number: 1, title: "Ø­Ù„Ù‚Ø© 1", url: "https://server.sanime.net/Video2/1533/1.mp4" },
          { number: 2, title: "Ø­Ù„Ù‚Ø© 2", url: "https://server.sanime.net/Video2/1533/2.mp4" },
          { number: 3, title: "Ø­Ù„Ù‚Ø© 3", url: "https://server.sanime.net/Video2/1533/3.mp4" },
          { number: 4, title: "Ø­Ù„Ù‚Ø© 4", url: "https://server.sanime.net/Video2/1533/4.mp4" },
          { number: 5, title: "Ø­Ù„Ù‚Ø© 5", url: "https://server.sanime.net/Video2/1533/5.mp4" },
          { number: 6, title: "Ø­Ù„Ù‚Ø© 6", url: "https://server.sanime.net/Video2/1533/6.mp4" },
          { number: 7, title: "Ø­Ù„Ù‚Ø© 7", url: "https://server.sanime.net/Video2/1533/7.mp4" },
          { number: 8, title: "Ø­Ù„Ù‚Ø© 8", url: "https://server.sanime.net/Video2/1533/8.mp4" },
          { number: 9, title: "Ø­Ù„Ù‚Ø© 9", url: "https://server.sanime.net/Video2/1533/9.mp4" },
          { number: 10, title: "Ø­Ù„Ù‚Ø© 10", url: "https://server.sanime.net/Video2/1533/10SD.mp4" },
          { number: 11, title: "Ø­Ù„Ù‚Ø© 11", url: "https://server.sanime.net/Video2/1533/11.mp4" },
          { number: 12, title: "Ø­Ù„Ù‚Ø© 12", url: "https://server.sanime.net/Video2/1533/12.mp4" },

      ]
    },
    // Ø£Ø¶Ù Ø§Ù„Ù…Ø²ÙŠØ¯ Ù…Ù† Ø§Ù„Ø£Ù†Ù…ÙŠØ§Øª Ù‡Ù†Ø§ Ø­Ø³Ø¨ Ø§Ù„Ø­Ø§Ø¬Ø©
  ];

  const animeList = document.getElementById("anime-list");
  const details = document.getElementById("anime-details");

  const batchSize = 10;  // Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ù†Ù…ÙŠØ§Øª Ù„Ù„ØªØ­Ù…ÙŠÙ„ Ø¯ÙØ¹Ø© ÙˆØ­Ø¯Ø©
  let loadedCount = 0;
  let currentCategory = "Ø§Ù„ÙƒÙ„";
  let currentSearch = "";

  function renderAnimeList(loadMore = false) {
    if (!loadMore) {
      loadedCount = 0;
      animeList.innerHTML = "";
    }

    // ÙÙ„ØªØ±Ø© Ø§Ù„Ø£Ù†Ù…ÙŠØ§Øª Ø­Ø³Ø¨ Ø§Ù„ØªØµÙ†ÙŠÙ ÙˆØ§Ù„Ø¨Ø­Ø«
    const filteredData = animeData.filter(anime => {
      const inCategory = currentCategory === "Ø§Ù„ÙƒÙ„" || anime.categories.includes(currentCategory);
      const inSearch = anime.title.toLowerCase().includes(currentSearch.toLowerCase());
      return inCategory && inSearch;
    });

    const toLoad = filteredData.slice(loadedCount, loadedCount + batchSize);
    toLoad.forEach(anime => {
      const card = document.createElement("div");
      card.className = "anime-card";
      card.setAttribute("data-categories", anime.categories.join(","));
      card.setAttribute("data-title", anime.title);
      card.onclick = () => showDetails(anime.id);
      card.innerHTML = `
        <img loading="lazy" src="${anime.image}" alt="${anime.title}" />
        <div class="title">${anime.title}</div>
        <div class="ep">Ø§Ù„Ø­Ù„Ù‚Ø§Øª ${anime.episodes.length}</div>
      `;
      animeList.appendChild(card);
    });
    loadedCount += toLoad.length;

    // Ø²Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø²ÙŠØ¯
    const loadMoreBtn = document.getElementById("load-more-btn");
    if (loadedCount < filteredData.length) {
      if (!loadMoreBtn) {
        const btn = document.createElement("button");
        btn.id = "load-more-btn";
        btn.textContent = "ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø²ÙŠØ¯";
        btn.style = "width: 100%; padding: 10px; margin-top: 10px; cursor: pointer; border-radius: 10px; background-color: #1e90ff; color: white; border: none;";
        btn.onclick = () => {
          renderAnimeList(true);
          btn.remove();
        };
        animeList.appendChild(btn);
      }
    } else {
      if (loadMoreBtn) loadMoreBtn.remove();
    }
  }

  function filterCategory(category) {
    currentCategory = category;
    document.querySelectorAll(".categories button").forEach(btn => {
      btn.classList.toggle("active", btn.textContent === category);
    });
    renderAnimeList();
  }

  function searchAnime() {
    currentSearch = document.getElementById("search").value.trim();
    renderAnimeList();
  }

  function showDetails(id) {
    const anime = animeData.find(a => a.id === id);
    if (!anime) return;

    document.getElementById("anime-img").src = anime.image;
    document.getElementById("anime-title").textContent = anime.title;
    document.getElementById("anime-description").textContent = anime.description;

    const episodesList = document.getElementById("episodes-list");
    episodesList.innerHTML = "";

    anime.episodes.forEach((ep, index) => {
      const epBtn = document.createElement("button");
      epBtn.textContent = ep.title;
      epBtn.onclick = () => {
        document.querySelectorAll(".episodes button").forEach(b => b.classList.remove("active"));
        epBtn.classList.add("active");
        showVideo(ep.url);
      };
      episodesList.appendChild(epBtn);
      if (index === 0) {
        epBtn.classList.add("active");
        showVideo(ep.url);
      }
    });

    animeList.style.display = "none";
    details.style.display = "block";
  }

  function showMain() {
    details.style.display = "none";
    animeList.style.display = "grid";
  }

  function showVideo(url) {
    let video = document.querySelector(".episodes video");
    if (!video) {
      video = document.createElement("video");
      video.controls = true;
      video.autoplay = true;
      video.style.width = "100%";
      document.getElementById("episodes-list").appendChild(video);
    }
    if (video.src !== url) {
      video.src = url;
      video.load();
      video.play();
    }
  }

  function shareSite() {
    if (navigator.share) {
      navigator.share({
        title: "Ghost Anime",
        url: location.href
      }).catch(console.error);
    } else {
      alert("Ù…ÙŠØ²Ø© Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ© ØºÙŠØ± Ù…Ø¯Ø¹ÙˆÙ…Ø© ÙÙŠ Ù…ØªØµÙØ­Ùƒ.");
    }
  }

  renderAnimeList();
</script>

</body>
</html>
