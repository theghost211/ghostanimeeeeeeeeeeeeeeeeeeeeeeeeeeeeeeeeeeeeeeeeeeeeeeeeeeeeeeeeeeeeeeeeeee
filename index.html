<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>مواعيد الأنمي</title>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        /* CSS from style.css */
        /* Reset and Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Cairo', sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            color: #ffffff;
            min-height: 100vh;
            direction: rtl;
            overflow-x: hidden;
        }

        /* Header Styles */
        .header {
            background: rgba(26, 26, 46, 0.95);
            backdrop-filter: blur(10px);
            padding: 15px 20px;
            position: fixed;
            top: 0;
            z-index: 100;
            width: 100%;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1200px;
            margin: 0 auto;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .logo-img {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            border: 2px solid #4A90E2;
        }

        .logo-text {
            font-size: 20px;
            font-weight: 700;
            color: #4A90E2;
        }

        .logo-subtitle {
            font-size: 14px;
            color: #cccccc;
        }

        .header-right {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .time {
            font-size: 16px;
            font-weight: 600;
        }

        .search-icon {
            font-size: 20px;
            cursor: pointer;
            transition: transform 0.3s ease;
            padding: 8px;
            border-radius: 50%;
            background: rgba(74, 144, 226, 0.2);
        }

        .search-icon:hover {
            transform: scale(1.1);
            background: rgba(74, 144, 226, 0.3);
        }

        /* Improved Search Bar */
        .search-container {
            position: relative;
            display: none;
            width: 350px;
            transition: all 0.3s ease;
        }

        .search-container.active {
            display: block;
            animation: slideIn 0.3s ease;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .search-input {
            width: 100%;
            padding: 12px 20px;
            border: 2px solid #4A90E2;
            border-radius: 25px;
            background: rgba(255, 255, 255, 0.15);
            color: #ffffff;
            font-family: 'Cairo', sans-serif;
            font-size: 14px;
            outline: none;
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
        }

        .search-input::placeholder {
            color: rgba(255, 255, 255, 0.7);
        }

        .search-input:focus {
            border-color: #ffffff;
            box-shadow: 0 0 20px rgba(74, 144, 226, 0.5);
            background: rgba(255, 255, 255, 0.2);
        }

        .search-results {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: rgba(26, 26, 46, 0.98);
            border-radius: 15px;
            margin-top: 8px;
            max-height: 400px;
            overflow-y: auto;
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            display: none;
            z-index: 10000;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }

        .search-results.active {
            display: block;
            animation: fadeInUp 0.3s ease;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .search-result-item {
            padding: 15px 20px;
            cursor: pointer;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .search-result-item:hover {
            background: rgba(74, 144, 226, 0.2);
            transform: translateX(-5px);
        }

        .search-result-item:last-child {
            border-bottom: none;
        }

        .search-result-image {
            width: 50px;
            height: 70px;
            border-radius: 8px;
            object-fit: cover;
        }

        .search-result-content {
            flex: 1;
        }

        .search-result-title {
            font-weight: 600;
            color: #ffffff;
            margin-bottom: 5px;
            font-size: 16px;
        }

        .search-result-info {
            font-size: 12px;
            color: #4A90E2;
            margin-bottom: 3px;
        }

        .search-result-description {
            font-size: 11px;
            color: #cccccc;
            line-height: 1.4;
            max-height: 40px;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        /* Back button - positioned inside anime details */
        .back-btn {
            background: rgba(74, 144, 226, 0.2);
            border: 2px solid #4A90E2;
            color: #4A90E2;
            padding: 10px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-family: 'Cairo', sans-serif;
            font-weight: 600;
            transition: all 0.3s ease;
            font-size: 14px;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 20px;
        }

        .back-btn:hover {
            background: #4A90E2;
            color: #ffffff;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(74, 144, 226, 0.3);
        }

        /* Main Content */
        .main-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 100px 20px 100px 20px;
        }

        .section-title {
            font-size: 24px;
            font-weight: 600;
            margin-bottom: 20px;
            color: #ffffff;
            text-align: right;
        }

        /* Featured Section */
        .featured-section {
            margin-bottom: 40px;
        }

        .featured-slider {
            position: relative;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 20px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .featured-card {
            display: flex;
            gap: 20px;
            align-items: center;
        }

        .featured-image {
            width: 200px;
            height: 280px;
            border-radius: 10px;
            object-fit: cover;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }

        .featured-info {
            flex: 1;
        }

        .featured-title {
            font-size: 28px;
            font-weight: 700;
            margin-bottom: 10px;
            color: #ffffff;
        }

        .featured-genres {
            color: #4A90E2;
            margin-bottom: 15px;
            font-size: 16px;
        }

        .featured-story {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 10px;
            color: #ffffff;
        }

        .featured-description {
            font-size: 16px;
            line-height: 1.6;
            color: #cccccc;
        }

        .slider-dots {
            display: flex;
            justify-content: center;
            gap: 8px;
            margin: 20px 0;
        }

        .dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .dot.active {
            background: #4A90E2;
            transform: scale(1.2);
        }

        .slider-nav {
            display: flex;
            justify-content: space-between;
            margin-top: 15px;
        }

        .nav-btn {
            background: rgba(74, 144, 226, 0.2);
            border: 1px solid #4A90E2;
            color: #4A90E2;
            padding: 10px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-family: 'Cairo', sans-serif;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .nav-btn:hover {
            background: #4A90E2;
            color: #ffffff;
            transform: translateY(-2px);
        }

        /* Latest Episodes Grid */
        .latest-episodes {
            margin-bottom: 40px;
        }

        .anime-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
        }

        .anime-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 15px;
            text-align: center;
            transition: all 0.3s ease;
            cursor: pointer;
            border: 1px solid rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            position: relative;
        }

        .anime-card:hover {
            transform: translateY(-10px);
            background: rgba(255, 255, 255, 0.1);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
        }

        .anime-image {
            width: 100%;
            height: 200px;
            border-radius: 10px;
            object-fit: cover;
            margin-bottom: 15px;
            transition: transform 0.3s ease;
        }

        .anime-card:hover .anime-image {
            transform: scale(1.05);
        }

        .anime-title {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 8px;
            color: #ffffff;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .anime-episodes {
            font-size: 14px;
            color: #4A90E2;
            font-weight: 500;
        }

        /* Anime Details Page */
        .anime-details {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 30px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            margin-bottom: 30px;
        }

        .anime-details-header {
            display: flex;
            gap: 30px;
            margin-bottom: 30px;
        }

        .anime-details-image {
            width: 250px;
            height: 350px;
            border-radius: 15px;
            object-fit: cover;
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.4);
        }

        .anime-details-info {
            flex: 1;
        }

        .anime-details-title {
            font-size: 32px;
            font-weight: 700;
            margin-bottom: 15px;
            color: #ffffff;
        }

        .anime-details-genres {
            color: #4A90E2;
            margin-bottom: 20px;
            font-size: 18px;
            font-weight: 600;
        }

        .anime-details-description {
            font-size: 16px;
            line-height: 1.8;
            color: #cccccc;
            margin-bottom: 25px;
        }

        .anime-actions {
            display: flex;
            gap: 15px;
            align-items: center;
        }

        .favorite-btn-large {
            background: linear-gradient(135deg, #E74C3C 0%, #C0392B 100%);
            border: none;
            color: white;
            padding: 12px 25px;
            border-radius: 25px;
            cursor: pointer;
            font-family: 'Cairo', sans-serif;
            font-weight: 600;
            font-size: 16px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(231, 76, 60, 0.3);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .favorite-btn-large:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(231, 76, 60, 0.4);
        }

        .favorite-btn-large.favorited {
            background: linear-gradient(135deg, #27AE60 0%, #229954 100%);
            box-shadow: 0 4px 15px rgba(39, 174, 96, 0.3);
        }

        .favorite-btn-large.favorited:hover {
            box-shadow: 0 8px 25px rgba(39, 174, 96, 0.4);
        }

        .episodes-section {
            margin-top: 30px;
        }

        .episodes-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .episode-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            padding: 15px;
            text-align: center;
            transition: all 0.3s ease;
            cursor: pointer;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .episode-card:hover {
            background: rgba(255, 255, 255, 0.1);
            transform: translateY(-5px);
        }

        .episode-number {
            font-size: 18px;
            font-weight: 600;
            color: #4A90E2;
            margin-bottom: 5px;
        }

        .episode-title {
            font-size: 14px;
            color: #cccccc;
        }

        /* App Info Section */
        .app-info {
            margin-bottom: 40px;
        }

        .app-card {
            display: flex;
            gap: 20px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
        }

        .app-icon {
            width: 80px;
            height: 80px;
            border-radius: 15px;
            object-fit: cover;
        }

        .app-details {
            flex: 1;
        }

        .app-name {
            font-size: 20px;
            font-weight: 600;
            margin-bottom: 10px;
            color: #ffffff;
        }

        .app-description {
            font-size: 16px;
            line-height: 1.6;
            color: #cccccc;
        }

        /* Classification buttons */
        .classification-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }

        .classification-btn {
            background: linear-gradient(135deg, #4A90E2 0%, #357ABD 100%);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 25px;
            font-family: 'Cairo', sans-serif;
            font-weight: 600;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(74, 144, 226, 0.3);
            position: relative;
            overflow: hidden;
        }

        .classification-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(74, 144, 226, 0.4);
        }

        .classification-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s;
        }

        .classification-btn:hover::before {
            left: 100%;
        }

        /* Categories */
        .categories {
            margin-bottom: 40px;
        }

        .category-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }

        .category-btn {
            background: linear-gradient(135deg, #4A90E2 0%, #357ABD 100%);
            border: none;
            color: #ffffff;
            padding: 12px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-family: 'Cairo', sans-serif;
            font-weight: 600;
            font-size: 14px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(74, 144, 226, 0.3);
            position: relative;
            overflow: hidden;
        }

        .category-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(74, 144, 226, 0.4);
        }

        .category-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s;
        }

        .category-btn:hover::before {
            left: 100%;
        }

        /* Anime Schedule */
        .anime-schedule {
            margin-bottom: 40px;
        }

        .schedule-container {
            display: grid;
            grid-template-columns: 1fr;
            gap: 20px;
            margin-top: 20px;
        }

        .schedule-day {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
        }

        .day-title {
            font-size: 20px;
            font-weight: 700;
            color: #4A90E2;
            margin-bottom: 15px;
            text-align: center;
            border-bottom: 2px solid #4A90E2;
            padding-bottom: 10px;
        }

        .day-anime {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .schedule-anime-item {
            display: flex;
            align-items: center;
            gap: 15px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            padding: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .schedule-anime-item:hover {
            background: rgba(74, 144, 226, 0.2);
            transform: translateX(-5px);
        }

        .schedule-anime-image {
            width: 60px;
            height: 80px;
            border-radius: 8px;
            object-fit: cover;
        }

        .schedule-anime-info {
            flex: 1;
        }

        .schedule-anime-title {
            font-size: 16px;
            font-weight: 600;
            color: #ffffff;
            margin-bottom: 5px;
        }

        .schedule-anime-time {
            font-size: 14px;
            color: #4A90E2;
            font-weight: 500;
        }

        /* Favorites */
        .remove-favorite-btn {
            position: absolute;
            top: 10px;
            left: 10px;
            background: rgba(231, 76, 60, 0.8);
            border: none;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: all 0.3s ease;
        }

        .anime-card:hover .remove-favorite-btn {
            opacity: 1;
        }

        .remove-favorite-btn:hover {
            background: rgba(231, 76, 60, 1);
            transform: scale(1.1);
        }

        /* Bottom Navigation */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(26, 26, 46, 0.95);
            backdrop-filter: blur(10px);
            display: flex;
            justify-content: space-around;
            padding: 15px 0;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            z-index: 99;
        }

        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 5px;
            cursor: pointer;
            padding: 8px 12px;
            border-radius: 10px;
            transition: all 0.3s ease;
        }

        .nav-item:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        .nav-item.active {
            color: #4A90E2;
        }

        .nav-icon {
            font-size: 20px;
        }

        .nav-label {
            font-size: 12px;
            font-weight: 500;
        }

        /* No Favorites */
        .no-favorites {
            text-align: center;
            padding: 60px 20px;
        }

        .no-favorites-content {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 40px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
        }

        .no-favorites-icon {
            font-size: 64px;
            margin-bottom: 20px;
        }

        .no-favorites h3 {
            font-size: 24px;
            margin-bottom: 15px;
            color: #ffffff;
        }

        .no-favorites p {
            color: #cccccc;
            font-size: 16px;
            line-height: 1.6;
        }

        /* Page Sections */
        .page-section {
            display: none;
        }

        .page-section.active {
            display: block;
        }

        /* Video Player */
        .video-player-container {
            margin-top: 20px;
            background: rgba(0, 0, 0, 0.8);
            border-radius: 15px;
            padding: 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .video-player-container video {
            width: 100%;
            height: auto;
            border-radius: 10px;
        }

        /* Mobile Responsive */
        @media (max-width: 768px) {
            .header-content {
                padding: 0 10px;
            }

            .logo-text {
                font-size: 16px;
            }

            .logo-subtitle {
                font-size: 12px;
            }

            .time {
                font-size: 14px;
            }

            .search-container {
                width: 250px;
            }

            .main-content {
                padding: 90px 15px 90px 15px;
            }

            .section-title {
                font-size: 20px;
                text-align: center;
            }

            .featured-card {
                flex-direction: column;
                text-align: center;
                gap: 15px;
            }

            .featured-image {
                width: 150px;
                height: 210px;
                margin: 0 auto;
            }

            .featured-title {
                font-size: 22px;
            }

            .featured-story {
                font-size: 16px;
            }

            .featured-description {
                font-size: 14px;
            }

            .anime-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 15px;
            }

            .anime-image {
                height: 150px;
            }

            .anime-title {
                font-size: 14px;
            }

            .anime-episodes {
                font-size: 12px;
            }

            .anime-details-header {
                flex-direction: column;
                align-items: center;
                text-align: center;
                gap: 20px;
            }

            .anime-details-image {
                width: 200px;
                height: 280px;
            }

            .anime-details-title {
                font-size: 24px;
            }

            .anime-details-genres {
                font-size: 16px;
            }

            .anime-details-description {
                font-size: 14px;
            }

            .episodes-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 10px;
            }

            .app-card {
                flex-direction: column;
                align-items: center;
                text-align: center;
                gap: 15px;
            }

            .app-icon {
                width: 60px;
                height: 60px;
            }

            .app-name {
                font-size: 18px;
            }

            .app-description {
                font-size: 14px;
            }

            .classification-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 10px;
            }

            .category-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 10px;
            }

            .schedule-anime-item {
                gap: 10px;
                padding: 10px;
            }

            .schedule-anime-image {
                width: 45px;
                height: 60px;
            }

            .schedule-anime-title {
                font-size: 14px;
            }

            .schedule-anime-time {
                font-size: 12px;
            }

            .day-title {
                font-size: 18px;
            }
        }

        @media (max-width: 480px) {
            .main-content {
                padding: 80px 10px 80px 10px;
            }

            .anime-grid {
                grid-template-columns: 1fr;
                gap: 10px;
            }

            .episodes-grid {
                grid-template-columns: 1fr;
                gap: 8px;
            }

            .classification-grid {
                grid-template-columns: 1fr;
                gap: 8px;
            }

            .category-grid {
                grid-template-columns: 1fr;
                gap: 8px;
            }

            .search-container {
                width: 200px;
            }

            .featured-image {
                width: 120px;
                height: 170px;
            }

            .featured-title {
                font-size: 18px;
            }

            .featured-description {
                font-size: 12px;
            }
        }

        /* Loading Animation */
        .search-loading {
            text-align: center;
            padding: 20px;
            color: #4A90E2;
            font-size: 14px;
        }

        /* Ensure no horizontal overflow */
        html, body {
            overflow-x: hidden;
            max-width: 100vw;
        }

        * {
            max-width: 100%;
        }
    
.anime-grid {
    grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
    gap: 12px;
}

.anime-card {
    padding: 10px;
    border-radius: 10px;
}

.anime-image {
    height: 160px;
    border-radius: 8px;
}

.anime-title {
    font-size: 13px;
    margin-bottom: 5px;
}

.anime-episodes {
    font-size: 11px;
}

.classification-btn,
.category-btn {
    font-size: 13px;
    padding: 10px 16px;
    border-radius: 20px;
    text-align: center;
    white-space: nowrap;
}

.classification-grid,
.category-grid {
    gap: 10px;
}

@media (max-width: 480px) {
    .classification-grid,
    .category-grid {
        grid-template-columns: repeat(3, 1fr);
    }

    .classification-btn,
    .category-btn {
        font-size: 12px;
        padding: 8px 12px;
    }
}

</style>
</head>
<body>
    <!-- Main Page -->
    <div id="main-page" class="page-section active">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <div class="logo">
                    <img src="https://via.placeholder.com/40x40/4A90E2/ffffff?text=A" alt="Logo" class="logo-img">
                    <div>
                        <div class="logo-text">موقع الأنمي</div>
                        <div class="logo-subtitle">أفضل موقع لمشاهدة الأنمي</div>
                    </div>
                </div>
                <div class="header-right">
                    <div class="time" id="current-time">12:30</div>
                    <div class="search-container" id="search-container">
                        <input type="text" class="search-input" id="search-input" placeholder="ابحث عن الأنمي...">
                        <div class="search-results" id="search-results"></div>
                    </div>
                    <div class="search-icon" id="search-icon" onclick="toggleSearch()">🔍</div>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Featured Section -->
            <section class="featured-section">
                <h2 class="section-title">الأنمي المميز</h2>
                <div class="featured-slider">
                    <div class="featured-card" id="featured-card">
                        <img src="https://cdn.discordapp.com/attachments/1380004558222131200/1380010948437479424/Screenshot_------_com.png" alt="Featured Anime" class="featured-image">
                        <div class="featured-info">
                            <h3 class="featured-title">Wistoria: Wand and Sword</h3>
                            <div class="featured-genres">أكشن، مغامرات، كوميدي</div>
                            <div class="featured-story">قصة الأنمي:</div>
                            <p class="featured-description">سعيًا للوفاء بوعده الذي قطعه لصديقة الطفولة، يلتحق ويل سيرفورت بأكاديمية ريغاردن السحرية بهدف الوصول إلى قمة العالم السحري هناك مشكلة واحدة فقط لا يمكنه استخدام السحر!</p>
                        </div>
                    </div>
                    <div class="slider-dots">
                        <div class="dot active"></div>
                        <div class="dot"></div>
                        <div class="dot"></div>
                    </div>
                    <div class="slider-nav">
                        <button class="nav-btn" onclick="previousSlide()">السابق</button>
                        <button class="nav-btn" onclick="nextSlide()">التالي</button>
                    </div>
                </div>
            </section>

            <!-- Latest Episodes -->
            <section class="latest-episodes">
                <h2 class="section-title">أحدث الحلقات</h2>
                <div class="anime-grid" id="anime-grid">
                    <!-- Anime cards will be populated by JavaScript -->
                </div>
            </section>

            <!-- App Info -->
            <section class="app-info">
                <h2 class="section-title">معلومات التطبيق</h2>
                <div class="app-card">
                    <img src="https://via.placeholder.com/80x80/4A90E2/ffffff?text=App" alt="App Icon" class="app-icon">
                    <div class="app-details">
                        <h3 class="app-name">موقع الأنمي</h3>
                        <p class="app-description">أفضل موقع لمشاهدة الأنمي المترجم بجودة عالية. نوفر لك أحدث الحلقات والأفلام مع ترجمة احترافية وتجربة مشاهدة مميزة.</p>
                    </div>
                </div>
            </section>

            <!-- Classification -->
            <section class="categories">
                <h2 class="section-title">الأقسام الأساسية</h2>
                <div class="classification-grid">
                    <button class="classification-btn" onclick="showAllAnime()">قائمة الأنمي</button>
                    <button class="classification-btn" onclick="showRandomAnime()">أنمي عشوائي</button>
                    <button class="classification-btn" onclick="showMovies()">أفلام الأنمي</button>
                    <button class="classification-btn" onclick="showCompleted()">أنمي مكتمل</button>
                </div>
            </section>

            <!-- Categories -->
            <section class="categories">
                <h2 class="section-title">التصنيفات</h2>
                <div class="category-grid">
                    <button class="category-btn" onclick="filterByCategory('أكشن')">أكشن</button>
                    <button class="category-btn" onclick="filterByCategory('كوميدي')">كوميدي</button>
                    <button class="category-btn" onclick="filterByCategory('دراما')">دراما</button>
                    <button class="category-btn" onclick="filterByCategory('مغامرات')">مغامرات</button>
                    <button class="category-btn" onclick="filterByCategory('رومانسي')">رومانسي</button>
                    <button class="category-btn" onclick="filterByCategory('شياطين')">شياطين</button>
                </div>
            </section>
        </main>
    </div>

    <!-- Anime Details Page -->
    <div id="anime-details-page" class="page-section">
        <header class="header">
            <div class="header-content">
                <div class="logo">
                    <img src="https://via.placeholder.com/40x40/4A90E2/ffffff?text=A" alt="Logo" class="logo-img">
                    <div>
                        <div class="logo-text">تفاصيل الأنمي</div>
                        <div class="logo-subtitle">معلومات مفصلة</div>
                    </div>
                </div>
                <div class="header-right">
                    <div class="time" id="details-time">12:30</div>
                </div>
            </div>
        </header>

        <main class="main-content">
            <button class="back-btn" onclick="goBack()">
                <span>←</span>
                العودة
            </button>
            <div class="anime-details" id="anime-details-content">
                <!-- Anime details will be populated by JavaScript -->
            </div>
        </main>
    </div>

    <!-- Favorites Page -->
    <div id="favorites-page" class="page-section">
        <header class="header">
            <div class="header-content">
                <div class="logo">
                    <img src="https://via.placeholder.com/40x40/4A90E2/ffffff?text=A" alt="Logo" class="logo-img">
                    <div>
                        <div class="logo-text">المفضلة</div>
                        <div class="logo-subtitle">الأنمي المفضل لديك</div>
                    </div>
                </div>
                <div class="header-right">
                    <div class="time" id="favorites-time">12:30</div>
                </div>
            </div>
        </header>

        <main class="main-content">
            <section class="latest-episodes">
                <h2 class="section-title">الأنمي المفضل</h2>
                <div class="anime-grid" id="favorites-grid">
                    <!-- Favorite anime cards will be populated by JavaScript -->
                </div>
                <div class="no-favorites" id="no-favorites" style="display: none;">
                    <div class="no-favorites-content">
                        <div class="no-favorites-icon">💔</div>
                        <h3>لا توجد مفضلة</h3>
                        <p>لم تقم بإضافة أي أنمي للمفضلة بعد. ابدأ بإضافة الأنمي المفضل لديك!</p>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- Schedule Page -->
    <div id="schedule-page" class="page-section">
        <header class="header">
            <div class="header-content">
                <div class="logo">
                    <img src="https://via.placeholder.com/40x40/4A90E2/ffffff?text=A" alt="Logo" class="logo-img">
                    <div>
                        <div class="logo-text">مواعيد الأنمي</div>
                        <div class="logo-subtitle">جدول العرض الأسبوعي</div>
                    </div>
                </div>
                <div class="header-right">
                    <div class="time" id="schedule-time">12:30</div>
                </div>
            </div>
        </header>

        <main class="main-content">
            <section class="anime-schedule">
                <h2 class="section-title">مواعيد الأنمي الأسبوعية</h2>
                <div class="schedule-container">
                    <div class="schedule-day">
                        <h3 class="day-title">الأحد</h3>
                        <div class="day-anime">
                            <div class="schedule-anime-item" onclick="showAnimeDetails(1)">
                                <img src="https://cdn.discordapp.com/attachments/1380004558222131200/1380010948437479424/Screenshot_------_com.png" alt="Wistoria" class="schedule-anime-image">
                                <div class="schedule-anime-info">
                                    <div class="schedule-anime-title">Wistoria: Wand and Sword</div>
                                    <div class="schedule-anime-time">9:00 مساءً</div>
                                </div>
                            </div>
                            <div class="schedule-anime-item" onclick="showAnimeDetails(2)">
                                <img src="https://cdn.discordapp.com/attachments/1380004558222131200/1380011296036225127/IMG_4391.jpg" alt="Attack on Titan" class="schedule-anime-image">
                                <div class="schedule-anime-info">
                                    <div class="schedule-anime-title">Attack on Titan</div>
                                    <div class="schedule-anime-time">10:30 مساءً</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="schedule-day">
                        <h3 class="day-title">الاثنين</h3>
                        <div class="day-anime">
                            <div class="schedule-anime-item" onclick="showAnimeDetails(3)">
                                <img src="https://app.sanime.net/api/anime/3144/image.jpg" alt="Demon Slayer" class="schedule-anime-image">
                                <div class="schedule-anime-info">
                                    <div class="schedule-anime-title">Demon Slayer</div>
                                    <div class="schedule-anime-time">8:30 مساءً</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="schedule-day">
                        <h3 class="day-title">الثلاثاء</h3>
                        <div class="day-anime">
                            <div class="schedule-anime-item" onclick="showAnimeDetails(4)">
                                <img src="https://app.sanime.net/api/anime/532/image.jpg" alt="One Piece" class="schedule-anime-image">
                                <div class="schedule-anime-info">
                                    <div class="schedule-anime-title">One Piece</div>
                                    <div class="schedule-anime-time">9:15 مساءً</div>
                                </div>
                            </div>
                            <div class="schedule-anime-item" onclick="showAnimeDetails(5)">
                                <img src="https://app.sanime.net/api/anime/529/image.jpg" alt="Naruto" class="schedule-anime-image">
                                <div class="schedule-anime-info">
                                    <div class="schedule-anime-title">Naruto</div>
                                    <div class="schedule-anime-time">10:45 مساءً</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="schedule-day">
                        <h3 class="day-title">الأربعاء</h3>
                        <div class="day-anime">
                            <div class="schedule-anime-item" onclick="showAnimeDetails(1)">
                                <img src="https://cdn.discordapp.com/attachments/1380004558222131200/1380010948437479424/Screenshot_------_com.png" alt="Wistoria" class="schedule-anime-image">
                                <div class="schedule-anime-info">
                                    <div class="schedule-anime-title">Wistoria: Wand and Sword</div>
                                    <div class="schedule-anime-time">8:00 مساءً</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="schedule-day">
                        <h3 class="day-title">الخميس</h3>
                        <div class="day-anime">
                            <div class="schedule-anime-item" onclick="showAnimeDetails(2)">
                                <img src="https://cdn.discordapp.com/attachments/1380004558222131200/1380011296036225127/IMG_4391.jpg" alt="Attack on Titan" class="schedule-anime-image">
                                <div class="schedule-anime-info">
                                    <div class="schedule-anime-title">Attack on Titan</div>
                                    <div class="schedule-anime-time">9:30 مساءً</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="schedule-day">
                        <h3 class="day-title">الجمعة</h3>
                        <div class="day-anime">
                            <div class="schedule-anime-item" onclick="showAnimeDetails(3)">
                                <img src="https://app.sanime.net/api/anime/3144/image.jpg" alt="Demon Slayer" class="schedule-anime-image">
                                <div class="schedule-anime-info">
                                    <div class="schedule-anime-title">Demon Slayer</div>
                                    <div class="schedule-anime-time">8:45 مساءً</div>
                                </div>
                            </div>
                            <div class="schedule-anime-item" onclick="showAnimeDetails(5)">
                                <img src="https://app.sanime.net/api/anime/529/image.jpg" alt="Naruto" class="schedule-anime-image">
                                <div class="schedule-anime-info">
                                    <div class="schedule-anime-title">Naruto</div>
                                    <div class="schedule-anime-time">10:15 مساءً</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="schedule-day">
                        <h3 class="day-title">السبت</h3>
                        <div class="day-anime">
                            <div class="schedule-anime-item" onclick="showAnimeDetails(4)">
                                <img src="https://app.sanime.net/api/anime/532/image.jpg" alt="One Piece" class="schedule-anime-image">
                                <div class="schedule-anime-info">
                                    <div class="schedule-anime-title">One Piece</div>
                                    <div class="schedule-anime-time">7:30 مساءً</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- Bottom Navigation -->
    <nav class="bottom-nav">
        <div class="nav-item active" onclick="showPage('main')">
            <div class="nav-icon">🏠</div>
            <div class="nav-label">الرئيسية</div>
        </div>
        <div class="nav-item" onclick="showPage('favorites')">
            <div class="nav-icon">❤️</div>
            <div class="nav-label">المفضلة</div>
        </div>
        <div class="nav-item" onclick="showPage('schedule')">
            <div class="nav-icon">📅</div>
            <div class="nav-label">مواعيد الأنمي</div>
        </div>
    </nav>

    <script>
        // Anime Data
        const animeData = [
            {
                id: 1,
                title: "Wistoria: Wand and Sword",
                categories: ["أكشن", "مغامرات", "كوميدي", "الكل"],
                description: "قصة الانمي : سعيًا للوفاء بوعده الذي قطعه لصديقة الطفولة، يلتحق ويل سيرفورت بأكاديمية ريغاردن السحرية بهدف الوصول إلى قمة العالم السحري هناك مشكلة واحدة فقط لا يمكنه استخدام السحر! هل ستكون مهارات سيفه هي المفتاح لفتح إمكاناته الحقيقية؟",
                image: "https://cdn.discordapp.com/attachments/1380004558222131200/1380010948437479424/Screenshot_------_com.png?ex=68561959&is=6854c7d9&hm=2bffc6b20b48ecf28b9581ead8a82cf25119ebf12589ef8f0dddc15c275c4f21&",
                episodes: [
                    { number: 1, title: "1 حلقة", url: "https://server.sanime.net/Video/11537/1.mp4" },
                    { number: 2, title: "2 حلقة", url: "https://server.sanime.net/Video/11537/2.mp4" },
                    { number: 3, title: "3 حلقة", url: "https://server.sanime.net/Video/11537/3.mp4" },
                    { number: 4, title: "4 حلقة", url: "https://server.sanime.net/Video/11537/4.mp4" },
                    { number: 5, title: "5 حلقة", url: "https://server.sanime.net/Video/11537/5.mp4" },
                    { number: 6, title: "6(معطلة)", url: "" },
                    { number: 7, title: "7 حلقة", url: "https://server.sanime.net/Video/11537/7SD.mp4" },
                    { number: 8, title: "8 حلقة", url: "https://server.sanime.net/Video/11537/8.mp4" },
                    { number: 9, title: "9 حلقة", url: "https://server.sanime.net/Video/11537/9.mp4" },
                    { number: 10, title: "10 حلقة", url: "https://server.sanime.net/Video/11537/10.mp4" },
                    { number: 11, title: "11 حلقة", url: "https://server.sanime.net/Video/11537/11.mp4" },
                ]
            },
            {
                id: 2,
                title: "Attack on Titan",
                categories: ["أكشن", "مغامرات", "كوميدي", "الكل"],
                description: "قصة الانمي : منذ مائة عام تقريباً ظهر عدو جديد للبشرية العمالقة وكان عدوه الخارق الذي استطاع جر الجنس البشري إلى حافة الإنقراض ومن أجل الهرب منهم تمكن البشر من الإحتماء وراء ثلاثة جدران جدار ماريا جدار روز جدار سينا ولكن بعد مرور مائة سنة يتعرض البشر للهجوم من عملاقين خاصين عملاق ضخم و عملاق مدرّع ويدمران الجدار ويدخلان إلى مدينة حدودية بجانب عدد ضخم من العمالقة إيرين ميكاسا ارمين أبطال هذه القصة كانو يعيشون في هذه المدينة ويتمكنون من الهرب منها ويهرب من تبقى من البشر ويتركون جدار ماريا وكل مايحميه وراؤهم متخلين بذلك عن ثلث أراضيهم وما يقارب خمس تعدادهم السكاني ومن هنا تبدأ معركتنا ضد هؤلاء العمالقة",
                image: "https://cdn.discordapp.com/attachments/1380004558222131200/1380011296036225127/IMG_4391.jpg?ex=685619ac&is=6854c82c&hm=eb3742211d46bb9a02e9c75a2532d6490bf5dd1d62e2e03befb168999e39341a&",
                episodes: [
                    { number: 1, title: "حلقة 1", url: "https://server.sanime.net/Video3/679/1.mp4" },
                    { number: 2, title: "حلقة 2", url: "https://server.sanime.net/Video3/679/2.mp4" },
                    { number: 3, title: "حلقة 3", url: "https://server.sanime.net/Video3/679/3.mp4" },
                    { number: 4, title: "حلقة 4", url: "https://server.sanime.net/Video3/679/4.mp4" },
                    { number: 5, title: "حلقة 5", url: "https://server.sanime.net/Video3/679/5.mp4" },
                    { number: 6, title: "6 حلقة ", url: "https://server.sanime.net/Video3/679/6.mp4" },
                    { number: 7, title: "حلقة 7", url: "https://server.sanime.net/Video3/679/7.mp4" },
                    { number: 8, title: "حلقة 8", url: "https://server.sanime.net/Video3/679/8.mp4" },
                    { number: 9, title: "حلقة 9", url: "https://server.sanime.net/Video3/679/9.mp4" },
                    { number: 10, title: "حلقة 10", url: "https://server.sanime.net/Video3/679/10.mp4" },
                    { number: 11, title: "حلقة 11", url: "https://server.sanime.net/Video3/679/11.mp4" },
                    { number: 12, title: "حلقة 12", url: "https://server.sanime.net/Video3/679/12.mp4" },
                    { number: 13, title: "حلقة 13", url: "https://server.sanime.net/Video3/679/13.mp4" },
                    { number: 14, title: "حلقة 14", url: "https://server.sanime.net/Video3/679/14.mp4" },
                    { number: 15, title: "حلقة 15", url: "https://server.sanime.net/Video3/679/15.mp4" },
                    { number: 16, title: "حلقة 16", url: "https://server.sanime.net/Video3/679/16.mp4" },
                    { number: 17, title: "حلقة 17", url: "https://server.sanime.net/Video3/679/17.mp4" },
                    { number: 18, title: "حلقة 18", url: "https://server.sanime.net/Video3/679/18.mp4" },
                    { number: 19, title: "حلقة 19", url: "https://server.sanime.net/Video3/679/19.mp4" },
                    { number: 20, title: "حلقة 20", url: "https://server.sanime.net/Video3/679/20.mp4" },
                    { number: 21, title: "حلقة 21", url: "https://server.sanime.net/Video3/679/21.mp4" },
                    { number: 22, title: "حلقة 22", url: "https://server.sanime.net/Video3/679/22.mp4" },
                    { number: 23, title: "حلقة 23", url: "https://server.sanime.net/Video3/679/23.mp4" },
                    { number: 24, title: "حلقة 24", url: "https://server.sanime.net/Video3/679/24.mp4" },
                    { number: 25, title: "حلقة 25", url: "https://server.sanime.net/Video3/679/25.mp4" },
                    { number: 26, title: "حلقة 26", url: "https://server.sanime.net/Video3/679/26.mp4" },
                ]
            },
            {
                id: 3,
                title: "Demon Slayer",
                image: "https://app.sanime.net/api/anime/3144/image.jpg",
                categories: ["أكشن", "مغامرات", "كوميدي", "رومانسي", "شياطين"],
                description: "قصة الانمي : تتحدث القصة عن تانجيرو و هو الابنُ الأكبرُ لعائلته التي فقدت مُعيلها. وفي أحد الأيام يُخاصرُ تانجيرو بالذهاب إلى قريةٍ أخرى لبيع الفحم. ولكن نظرًا لحلولِ الليل وانتشارٍ إشاعاتٍ بوجودٍ شياطينَ تجولُ قريبًا في الجبال، ينتهي بهِ الحالُ بأن يبيتَ ليلتهُ في منزلِ شخص آخرَ بدلاً من العودةِ إلى منزله. وحيلَ يصلُ إلى منزلوِ في الصباحِ التالي، يجدُ مأساةً مريعةً في انتظّاره",
                episodes: [
                    { number: 1, title: "حلقة 1", url: "https://server.sanime.net/Video3/529/1.mp4" },
                    { number: 2, title: "حلقة 2", url: "https://server.sanime.net/Video3/529/2.mp4" },
                    { number: 3, title: "حلقة 3", url: "https://server.sanime.net/Video3/529/3.mp4" },
                    { number: 4, title: "حلقة 4", url: "https://server.sanime.net/Video3/529/4.mp4" },
                    { number: 5, title: "حلقة 5", url: "https://server.sanime.net/Video3/529/5.mp4" },
                    { number: 6, title: "حلقة 6", url: "https://server.sanime.net/Video3/529/6.mp4" },
                    { number: 7, title: "حلقة 7", url: "https://server.sanime.net/Video3/529/7.mp4" },
                    { number: 8, title: "حلقة 8", url: "https://server.sanime.net/Video3/529/8.mp4" },
                    { number: 9, title: "حلقة 9", url: "https://server.sanime.net/Video3/529/9.mp4" },
                    { number: 10, title: "حلقة 10", url: "https://server.sanime.net/Video3/529/10.mp4" },
                    { number: 11, title: "حلقة 11", url: "https://server.sanime.net/Video3/529/11.mp4" },
                    { number: 12, title: "حلقة 12", url: "https://server.sanime.net/Video3/529/12.mp4" },
                    { number: 13, title: "حلقة 13", url: "https://server.sanime.net/Video3/529/13.mp4" },
                    { number: 14, title: "حلقة 14", url: "https://server.sanime.net/Video3/529/14.mp4" },
                    { number: 15, title: "حلقة 15", url: "https://server.sanime.net/Video3/529/15.mp4" },
                    { number: 16, title: "حلقة 16", url: "https://server.sanime.net/Video3/529/16.mp4" },
                    { number: 17, title: "حلقة 17", url: "https://server.sanime.net/Video3/529/17.mp4" },
                    { number: 18, title: "حلقة 18", url: "https://server.sanime.net/Video3/529/18.mp4" },
                    { number: 19, title: "حلقة 19", url: "https://server.sanime.net/Video3/529/19.mp4" },
                    { number: 20, title: "حلقة 20", url: "https://server.sanime.net/Video3/529/20.mp4" },
                    { number: 21, title: "حلقة 21", url: "https://server.sanime.net/Video3/529/21.mp4" },
                    { number: 22, title: "حلقة 22", url: "https://server.sanime.net/Video3/529/22.mp4" },
                    { number: 23, title: "حلقة 23", url: "https://server.sanime.net/Video3/529/23.mp4" },
                    { number: 24, title: "حلقة 24", url: "https://server.sanime.net/Video3/529/24.mp4" },
                    { number: 25, title: "حلقة 25", url: "https://server.sanime.net/Video3/529/25.mp4" },
                    { number: 26, title: "حلقة 26", url: "https://server.sanime.net/Video3/529/26.mp4" },
                ]
            },
            {
                id: 4,
                title: "One Piece",
                categories: ["اكشن", "مغامرات"],
                image: "https://app.sanime.net/api/anime/532/image.jpg",
                description: "قصة الانمي : مونكي دي لوفي يبحث عن الكنز الأسطوري ون بيس ليصبح ملك القراصنة. ينطلق في مغامرة ملحمية عبر البحار مع طاقمه من القراصنة الأوفياء لتحقيق حلمه.",
                episodes: [
                    { number: 1, title: "غير موجود", url: "https://www.youtube.com/watch?v=3AujKfZIaUk" },
                ]
            },
            {
                id: 5,
                title: "Naruto",
                categories: ["اكشن", "مغامرات", "كوميدي"],
                image: "https://app.sanime.net/api/anime/529/image.jpg",
                description: "قصة الانمي : ناروتو أوزوماكي، نينجا شاب يحلم بأن يصبح هوكاغي قريته. يواجه تحديات كبيرة ويكتشف قوته الحقيقية من خلال الصداقة والإصرار على تحقيق أحلامه.",
                episodes: [
                    { number: 1, title: "حلقة 1", url: "https://server.sanime.net/Video3/529/1.mp4" },
                    { number: 2, title: "حلقة 2", url: "https://server.sanime.net/Video3/529/2.mp4" },
                    { number: 3, title: "حلقة 3", url: "https://server.sanime.net/Video3/529/3.mp4" },
                    { number: 4, title: "حلقة 4", url: "https://server.sanime.net/Video3/529/4.mp4" },
                    { number: 5, title: "حلقة 5", url: "https://server.sanime.net/Video3/529/5.mp4" },
                    { number: 6, title: "حلقة 6", url: "https://server.sanime.net/Video3/529/6.mp4" },
                    { number: 7, title: "حلقة 7", url: "https://server.sanime.net/Video3/529/7.mp4" },
                    { number: 8, title: "حلقة 8", url: "https://server.sanime.net/Video3/529/8.mp4" },
                    { number: 9, title: "حلقة 9", url: "https://server.sanime.net/Video3/529/9.mp4" },
                    { number: 10, title: "حلقة 10", url: "https://server.sanime.net/Video3/529/10.mp4" },
                ]
            }
        ];

        // Featured anime data for slider
        const featuredAnime = [
            {
                title: "Wistoria: Wand and Sword",
                genres: "أكشن، مغامرات، كوميدي",
                description: "سعيًا للوفاء بوعده الذي قطعه لصديقة الطفولة، يلتحق ويل سيرفورت بأكاديمية ريغاردن السحرية بهدف الوصول إلى قمة العالم السحري هناك مشكلة واحدة فقط لا يمكنه استخدام السحر!",
                image: "https://cdn.discordapp.com/attachments/1380004558222131200/1380010948437479424/Screenshot_------_com.png"
            },
            {
                title: "Attack on Titan",
                genres: "أكشن، مغامرات، كوميدي",
                description: "منذ مائة عام تقريباً ظهر عدو جديد للبشرية العمالقة وكان عدوه الخارق الذي استطاع جر الجنس البشري إلى حافة الإنقراض ومن أجل الهرب منهم تمكن البشر من الإحتماء وراء ثلاثة جدران.",
                image: "https://cdn.discordapp.com/attachments/1380004558222131200/1380011296036225127/IMG_4391.jpg"
            },
            {
                title: "Demon Slayer",
                genres: "أكشن، مغامرات، كوميدي، رومانسي، شياطين",
                description: "تتحدث القصة عن تانجيرو و هو الابنُ الأكبرُ لعائلته التي فقدت مُعيلها. وفي أحد الأيام يُخاصرُ تانجيرو بالذهاب إلى قريةٍ أخرى لبيع الفحم.",
                image: "https://app.sanime.net/api/anime/3144/image.jpg"
            }
        ];

        // Global variables
        let currentSlide = 0;
        let currentFilter = 'all';
        let searchTimeout;

        // Filter functions
        function filterByCategory(category) {
            currentFilter = category;
            const filteredAnime = animeData.filter(anime => 
                anime.categories.includes(category)
            );
            displayAnime(filteredAnime);
        }

        function showAllAnime() {
            currentFilter = 'all';
            displayAnime(animeData);
        }

        function showRandomAnime() {
            const randomAnime = animeData[Math.floor(Math.random() * animeData.length)];
            displayAnime([randomAnime]);
        }

        function showMovies() {
            const movies = animeData.filter(anime => anime.categories.includes('فيلم'));
            displayAnime(movies);
        }

        function showCompleted() {
            const completed = animeData.filter(anime => anime.categories.includes('مكتمل'));
            displayAnime(completed);
        }

        // Create anime card HTML
        function createAnimeCard(anime) {
            return `
                <div class="anime-card" data-anime-id="${anime.id}" onclick="showAnimeDetails(${anime.id})">
                    <img src="${anime.image}" alt="${anime.title}" class="anime-image">
                    <h3 class="anime-title">${anime.title}</h3>
                    <p class="anime-episodes">${anime.episodes.length} حلقة</p>
                </div>
            `;
        }

        // Display anime grid
        function displayAnime(animeList) {
            const grid = document.getElementById('anime-grid');
            if (animeList.length === 0) {
                grid.innerHTML = '<p style="text-align: center; color: #cccccc; grid-column: 1 / -1;">لا توجد نتائج للتصنيف المحدد</p>';
                return;
            }
            grid.innerHTML = animeList.map(createAnimeCard).join('');
        }

        // Show anime details
        function showAnimeDetails(animeId) {
            const anime = animeData.find(a => a.id === animeId);
            if (!anime) return;

            const isFavorited = isAnimeFavorited(animeId);
            
            document.getElementById('anime-details-content').innerHTML = `
                <div class="anime-details-header">
                    <img src="${anime.image}" alt="${anime.title}" class="anime-details-image">
                    <div class="anime-details-info">
                        <h1 class="anime-details-title">${anime.title}</h1>
                        <div class="anime-details-genres">${anime.categories.join(', ')}</div>
                        <p class="anime-details-description">${anime.description}</p>
                        <div class="anime-actions">
                            <button class="favorite-btn-large ${isFavorited ? 'favorited' : ''}" onclick="toggleFavorite(${animeId})">
                                ${isFavorited ? '❤️ إزالة من المفضلة' : '🤍 إضافة للمفضلة'}
                            </button>
                        </div>
                    </div>
                </div>
                <div class="episodes-section">
                    <h3 class="section-title">الحلقات</h3>
                    <div class="episodes-grid">
                        ${anime.episodes.map(episode => `
                            <div class="episode-card" onclick="playEpisode('${episode.url}')">
                                <div class="episode-number">الحلقة ${episode.number}</div>
                                <div class="episode-title">${episode.title}</div>
                            </div>
                        `).join('')}
                    </div>
                    <div class="video-player-container" id="video-player-container" style="display: none;">
                        <h3 class="section-title">مشغل الحلقة</h3>
                        <video id="episode-player" controls autoplay style="width: 100%; height: auto;"></video>
                    </div>
                </div>
            `;

            showPage('anime-details');
        }

        // Play episode
        function playEpisode(url) {
            const player = document.getElementById("episode-player");
            const playerContainer = document.getElementById("video-player-container");
            
            player.src = url;
            player.load();
            player.play();
            
            playerContainer.style.display = "block";
            playerContainer.scrollIntoView({ behavior: 'smooth' });
        }

        // Search functionality
        let searchActive = false;
        
        function toggleSearch() {
            const searchContainer = document.getElementById('search-container');
            const searchInput = document.getElementById('search-input');
            
            searchActive = !searchActive;
            
            if (searchActive) {
                searchContainer.classList.add('active');
                searchInput.focus();
            } else {
                searchContainer.classList.remove('active');
                hideSearchResults();
                searchInput.value = '';
            }
        }

        function performSearch(query) {
            if (!query.trim()) {
                hideSearchResults();
                return;
            }

            const searchResults = document.getElementById('search-results');
            searchResults.innerHTML = '<div class="search-loading">جاري البحث...</div>';
            searchResults.classList.add('active');

            clearTimeout(searchTimeout);

            searchTimeout = setTimeout(() => {
                const results = animeData.filter(anime => 
                    anime.title.toLowerCase().includes(query.toLowerCase()) ||
                    anime.description.toLowerCase().includes(query.toLowerCase()) ||
                    anime.categories.some(cat => cat.toLowerCase().includes(query.toLowerCase()))
                );

                displaySearchResults(results);
            }, 300);
        }

        function displaySearchResults(results) {
            const searchResults = document.getElementById('search-results');
            
            if (results.length === 0) {
                searchResults.innerHTML = `
                    <div class="search-result-item">
                        <div class="search-result-content">
                            <div class="search-result-title">لا توجد نتائج</div>
                            <div class="search-result-info">جرب البحث بكلمات مختلفة</div>
                        </div>
                    </div>
                `;
            } else {
                searchResults.innerHTML = results.map(anime => `
                    <div class="search-result-item" onclick="selectSearchResult(${anime.id})">
                        <img src="${anime.image}" alt="${anime.title}" class="search-result-image">
                        <div class="search-result-content">
                            <div class="search-result-title">${anime.title}</div>
                            <div class="search-result-info">${anime.categories.join(', ')} • ${anime.episodes.length} حلقة</div>
                        </div>
                    </div>
                `).join('');
            }
            
            searchResults.classList.add('active');
        }

        function selectSearchResult(animeId) {
            hideSearchResults();
            toggleSearch();
            showAnimeDetails(animeId);
        }

        function hideSearchResults() {
            const searchResults = document.getElementById('search-results');
            searchResults.classList.remove('active');
        }

        // Favorites functionality
        function isAnimeFavorited(animeId) {
            const favorites = JSON.parse(localStorage.getItem('favorites') || '[]');
            return favorites.includes(animeId);
        }

        function toggleFavorite(animeId) {
            let favorites = JSON.parse(localStorage.getItem('favorites') || '[]');
            const index = favorites.indexOf(animeId);
            
            if (index > -1) {
                favorites.splice(index, 1);
                showNotification('تم إزالة الأنمي من المفضلة', 'remove');
            } else {
                favorites.push(animeId);
                showNotification('تم إضافة الأنمي للمفضلة', 'add');
            }
            
            localStorage.setItem('favorites', JSON.stringify(favorites));
            
            // Update button if on details page
            const detailsPage = document.getElementById('anime-details-page');
            if (detailsPage.classList.contains('active')) {
                const button = document.querySelector('.favorite-btn-large');
                if (button) {
                    const isFavorited = favorites.includes(animeId);
                    button.className = `favorite-btn-large ${isFavorited ? 'favorited' : ''}`;
                    button.innerHTML = isFavorited ? '❤️ إزالة من المفضلة' : '🤍 إضافة للمفضلة';
                }
            }
            
            // Refresh favorites page if active
            if (document.getElementById('favorites-page').classList.contains('active')) {
                loadFavorites();
            }
        }

        function showNotification(message, type) {
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 80px;
                right: 20px;
                background: ${type === 'add' ? '#4CAF50' : '#f44336'};
                color: white;
                padding: 15px 20px;
                border-radius: 10px;
                z-index: 10000;
                font-family: 'Cairo', sans-serif;
                font-weight: 600;
                box-shadow: 0 4px 15px rgba(0,0,0,0.3);
                transform: translateX(100%);
                transition: transform 0.3s ease;
            `;
            notification.textContent = message;
            document.body.appendChild(notification);
            
            setTimeout(() => notification.style.transform = 'translateX(0)', 100);
            setTimeout(() => {
                notification.style.transform = 'translateX(100%)';
                setTimeout(() => document.body.removeChild(notification), 300);
            }, 3000);
        }

        function loadFavorites() {
            const favorites = JSON.parse(localStorage.getItem('favorites') || '[]');
            const favoriteAnime = animeData.filter(anime => favorites.includes(anime.id));
            
            const favoritesGrid = document.getElementById('favorites-grid');
            const noFavorites = document.getElementById('no-favorites');
            
            if (favoriteAnime.length === 0) {
                favoritesGrid.innerHTML = '';
                noFavorites.style.display = 'block';
            } else {
                noFavorites.style.display = 'none';
                favoritesGrid.innerHTML = favoriteAnime.map(anime => `
                    <div class="anime-card" data-anime-id="${anime.id}" onclick="showAnimeDetails(${anime.id})">
                        <button class="remove-favorite-btn" onclick="event.stopPropagation(); toggleFavorite(${anime.id})" title="إزالة من المفضلة">
                            ✕
                        </button>
                        <img src="${anime.image}" alt="${anime.title}" class="anime-image">
                        <h3 class="anime-title">${anime.title}</h3>
                        <p class="anime-episodes">${anime.episodes.length} حلقة</p>
                    </div>
                `).join('');
            }
        }

        // Page navigation
        function showPage(page) {
            // Hide all pages
            document.querySelectorAll('.page-section').forEach(section => {
                section.classList.remove('active');
            });
            
            // Show selected page
            document.getElementById(page + '-page').classList.add('active');
            
            // Update navigation
            if (page === 'main' || page === 'favorites' || page === 'schedule') {
                document.querySelectorAll('.nav-item').forEach(item => {
                    item.classList.remove('active');
                });
                
                const navItems = document.querySelectorAll('.nav-item');
                if (page === 'main') {
                    navItems[0].classList.add('active');
                } else if (page === 'favorites') {
                    navItems[1].classList.add('active');
                } else if (page === 'schedule') {
                    navItems[2].classList.add('active');
                }
            }
            
            // Load favorites if on favorites page
            if (page === 'favorites') {
                loadFavorites();
            }

            // Update time
            updateTime();
            
            // Scroll to top
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function goBack() {
            showPage('main');
        }

        // Slider functionality
        function nextSlide() {
            currentSlide = (currentSlide + 1) % featuredAnime.length;
            updateSlider();
        }

        function previousSlide() {
            currentSlide = (currentSlide - 1 + featuredAnime.length) % featuredAnime.length;
            updateSlider();
        }

        function updateSlider() {
            const card = document.getElementById('featured-card');
            const anime = featuredAnime[currentSlide];
            
            card.innerHTML = `
                <img src="${anime.image}" alt="${anime.title}" class="featured-image">
                <div class="featured-info">
                    <h3 class="featured-title">${anime.title}</h3>
                    <div class="featured-genres">${anime.genres}</div>
                    <div class="featured-story">قصة الأنمي:</div>
                    <p class="featured-description">${anime.description}</p>
                </div>
            `;
            
            // Update dots
            document.querySelectorAll('.dot').forEach((dot, index) => {
                dot.classList.toggle('active', index === currentSlide);
            });
        }

        // Time update
        function updateTime() {
            const now = new Date();
            const timeString = now.toLocaleTimeString('ar-SA', { 
                hour: '2-digit', 
                minute: '2-digit',
                hour12: false 
            });
            
            const timeElements = ['current-time', 'favorites-time', 'details-time', 'schedule-time'];
            timeElements.forEach(id => {
                const element = document.getElementById(id);
                if (element) {
                    element.textContent = timeString;
                }
            });
        }

        // Event listeners
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize search
            const searchInput = document.getElementById('search-input');
            
            searchInput.addEventListener('input', function(e) {
                performSearch(e.target.value);
            });

            searchInput.addEventListener('keydown', function(e) {
                if (e.key === 'Escape') {
                    toggleSearch();
                } else if (e.key === 'Enter') {
                    const firstResult = document.querySelector('.search-result-item');
                    if (firstResult && firstResult.onclick) {
                        firstResult.click();
                    }
                }
            });

            // Close search when clicking outside
            document.addEventListener('click', function(e) {
                const searchContainer = document.getElementById('search-container');
                const searchIcon = document.getElementById('search-icon');
                
                if (!searchContainer.contains(e.target) && !searchIcon.contains(e.target)) {
                    if (searchActive) {
                        toggleSearch();
                    }
                }
            });

            // Initialize app
            displayAnime(animeData);
            updateTime();
            setInterval(updateTime, 60000);
            setInterval(nextSlide, 5000);
        });
    </script>
</body>
</html>
