<meta name='viewport' content='width=device-width, initial-scale=1'/><!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Ghost Anime</title>
  <style>
    * { box-sizing: border-box; }

    html, body {
      margin: 0;
      padding: 0;
      width: 100%;
      height: 100%;
      overflow-x: hidden;
      font-family: sans-serif;
      background-color: #121212;
      color: white;
    }

    header {
      padding: 20px;
      background-color: #1c1c1c;
      text-align: center;
      font-size: 24px;
      font-weight: bold;
    }

    .search-share {
      display: flex;
      gap: 10px;
      padding: 10px;
      justify-content: center;
      flex-wrap: wrap;
    }

    .search-share input {
      flex: 1;
      min-width: 200px;
      padding: 10px;
      border-radius: 20px;
      border: none;
      outline: none;
    }

    .search-share button {
      background-color: #1e90ff;
      border: none;
      color: white;
      padding: 10px 15px;
      border-radius: 20px;
      cursor: pointer;
    }

    .categories {
      display: flex;
      overflow-x: auto;
      gap: 10px;
      padding: 10px;
    }

    .categories button {
      background-color: #2a2a2a;
      border: 1px solid #444;
      color: white;
      padding: 10px 20px;
      border-radius: 25px;
      white-space: nowrap;
      cursor: pointer;
      transition: background-color 0.3s;
      flex-shrink: 0;
    }

    .categories button.active,
    .categories button:hover {
      background-color: #1e90ff;
      border-color: #1e90ff;
    }

    .section-title {
      padding: 10px 20px;
      font-size: 18px;
      font-weight: bold;
    }

    .anime-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
      gap: 10px;
      padding: 0 10px 60px;
    }

    .anime-card {
      background-color: #1f1f1f;
      border-radius: 10px;
      overflow: hidden;
      text-align: center;
      font-size: 14px;
      cursor: pointer;
    }

    .anime-card img {
      width: 100%;
      height: 180px;
      object-fit: cover;
    }

    .anime-card .title {
      padding: 5px 5px 0;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .anime-card .ep {
      color: #aaa;
      font-size: 12px;
      margin-bottom: 8px;
    }

    .bottom-nav {
      position: fixed;
      bottom: 0;
      left: 0;
      width: 100%;
      background-color: #1c1c1c;
      display: flex;
      justify-content: space-around;
      padding: 10px 0;
      border-top: 1px solid #333;
      font-size: 14px;
      z-index: 1000;
    }

    .bottom-nav a {
      color: white;
      text-align: center;
      font-size: 12px;
      text-decoration: none;
      user-select: none;
    }

    .bottom-nav a:hover {
      color: #1e90ff;
    }

    .anime-details {
      display: none;
      padding: 20px;
      text-align: center;
    }

    .anime-details img {
      width: 200px;
      border-radius: 10px;
      margin-bottom: 10px;
    }

    .anime-details h2 {
      margin-top: 10px;
    }

    .anime-details p {
      color: #ccc;
      padding: 0 20px;
    }

    .episodes {
      padding: 10px 20px 60px;
    }

    .episodes button {
      margin: 5px 3px;
      padding: 6px 10px;
      border-radius: 15px;
      border: none;
      background-color: #333;
      color: white;
      cursor: pointer;
    }

    .episodes button.active {
      background-color: #1e90ff;
    }

    .episodes video {
      width: 100%;
      margin-top: 15px;
      border-radius: 10px;
      background-color: black;
    }

    .back-button {
      background-color: #1e90ff;
      color: white;
      padding: 10px 20px;
      border: none;
      border-radius: 20px;
      cursor: pointer;
      margin: 20px;
    }

    @media (orientation: landscape) {
      .anime-grid {
        grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
      }

      .anime-card img {
        height: 140px;
      }

      .anime-details img {
        width: 250px;
      }
    }
  </style>
</head>
<body>

<header>Ghost Anime</header>

<div class="search-share">
  <input type="text" id="search" placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† Ø£Ù†Ù…ÙŠ..." oninput="searchAnime()">
  <button onclick="shareSite()">ğŸ“¤ Ø´Ø§Ø±Ùƒ</button>
</div>

<div class="categories">
  <button class="active" onclick="filterCategory('Ø§Ù„ÙƒÙ„')">Ø§Ù„ÙƒÙ„</button>
  <button onclick="filterCategory('Ø£ÙƒØ´Ù†')">Ø£ÙƒØ´Ù†</button>
  <button onclick="filterCategory('Ù…ØºØ§Ù…Ø±Ø§Øª')">Ù…ØºØ§Ù…Ø±Ø§Øª</button>
  <button onclick="filterCategory('ÙƒÙˆÙ…ÙŠØ¯ÙŠ')">ÙƒÙˆÙ…ÙŠØ¯ÙŠ</button>
  <button onclick="filterCategory('Ø§Ù†Ù…ÙŠØ§Øª Ø¬Ø¯ÙŠØ¯Ù‡')">Ø§Ù†Ù…ÙŠØ§Øª Ø¬Ø¯ÙŠØ¯Ù‡</button>
</div>

<div class="section-title">Ø§Ù„Ø£Ù†Ù…ÙŠØ§Øª</div>
<div class="anime-grid" id="anime-list"></div>

<div class="anime-details" id="anime-details">
  <button class="back-button" onclick="showMain()">â† Ø±Ø¬ÙˆØ¹</button>
  <img id="anime-img" src="" alt="ØµÙˆØ±Ø© Ø§Ù„Ø£Ù†Ù…ÙŠ" />
  <h2 id="anime-title">Ø¹Ù†ÙˆØ§Ù†</h2>
  <p id="anime-description">ÙˆØµÙ Ø§Ù„Ø£Ù†Ù…ÙŠ</p>
  <div class="section-title">Ø§Ù„Ø­Ù„Ù‚Ø§Øª</div>
  <div class="episodes" id="episodes-list"></div>
</div>

<div class="bottom-nav">
  <a href="#">ğŸ <br>Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
</div>

<script>
  const animeData = [
    {
      id: 1,
      title: "Ù†Ø§Ø±ØªÙˆ",
      categories: ["Ø§Ù†Ù…ÙŠØ§Øª Ø¬Ø¯ÙŠØ¯Ù‡", "Ù…ØºØ§Ù…Ø±Ø§Øª", "ÙƒÙˆÙ…ÙŠØ¯ÙŠ"],
      description: "Ù‚ØµØ© Ù†ÙŠÙ†Ø¬Ø§ ÙŠØ³Ø¹Ù‰ Ù„ØªØ­Ù‚ÙŠÙ‚ Ø­Ù„Ù…Ù‡ ÙÙŠ Ø£Ù† ÙŠØµØ¨Ø­ Ø§Ù„Ù‡ÙˆÙƒØ§Ø¬ÙŠ.",
      image: "https://cdn.myanimelist.net/images/anime/13/17405.jpg",
      episodes: [
        { number: 1, title: "Ø­Ù„Ù‚Ø© 1", url: "https://server.sanime.net/Video3/3026/1.mp4" },
        { number: 2, title: "Ø­Ù„Ù‚Ø© 2", url: "https://server.sanime.net/Video3/3026/2.mp4" }
      ]
    },
    {
      id: 2,
      title: "Danjo no Yuujou",
      categories: ["ÙƒÙˆÙ…ÙŠØ¯ÙŠ", "Ø§Ù†Ù…ÙŠØ§Øª Ø¬Ø¯ÙŠØ¯Ù‡"],
      description: "ØµØ¯Ø§Ù‚Ø© ØºØ±ÙŠØ¨Ø© Ø¨ÙŠÙ† ÙØªØ§Ø© ÙˆÙØªÙ‰ ØªØªØ­ÙˆÙ„ Ø¥Ù„Ù‰ Ù…ÙˆØ§Ù‚Ù Ù…Ø¶Ø­ÙƒØ©.",
      image: "https://cdn.myanimelist.net/images/anime/11/79410.jpg",
      episodes: [
        { number: 1, title: "Ø­Ù„Ù‚Ø© 1", url: "https://www.w3schools.com/html/mov_bbb.mp4" },
        { number: 2, title: "Ø­Ù„Ù‚Ø© 2", url: "https://www.w3schools.com/html/movie.mp4" }
      ]
    },
  ];

  const animeList = document.getElementById("anime-list");
  const details = document.getElementById("anime-details");

  const batchSize = 10;
  let loadedCount = 0;
  let currentCategory = "Ø§Ù„ÙƒÙ„";
  let currentSearch = "";

  function renderAnimeList(loadMore = false) {
    if (!loadMore) {
      loadedCount = 0;
      animeList.innerHTML = "";
    }

    const filteredData = animeData.filter(anime => {
      const inCategory = currentCategory === "Ø§Ù„ÙƒÙ„" || anime.categories.includes(currentCategory);
      const inSearch = anime.title.toLowerCase().includes(currentSearch.toLowerCase());
      return inCategory && inSearch;
    });

    const toLoad = filteredData.slice(loadedCount, loadedCount + batchSize);
    toLoad.forEach(anime => {
      const card = document.createElement("div");
      card.className = "anime-card";
      card.onclick = () => showDetails(anime.id);
      card.innerHTML = `
        <img loading="lazy" src="${anime.image}" alt="${anime.title}" />
        <div class="title">${anime.title}</div>
        <div class="ep">Ø§Ù„Ø­Ù„Ù‚Ø§Øª ${anime.episodes.length}</div>
      `;
      animeList.appendChild(card);
    });
    loadedCount += toLoad.length;

    const loadMoreBtn = document.getElementById("load-more-btn");
    if (loadedCount < filteredData.length) {
      if (!loadMoreBtn) {
        const btn = document.createElement("button");
        btn.id = "load-more-btn";
        btn.textContent = "ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø²ÙŠØ¯";
        btn.style = "width: 100%; padding: 10px; margin-top: 10px; cursor: pointer; border-radius: 10px; background-color: #1e90ff; color: white; border: none;";
        btn.onclick = () => {
          renderAnimeList(true);
          btn.remove();
        };
        animeList.appendChild(btn);
      }
    } else {
      if (loadMoreBtn) loadMoreBtn.remove();
    }
  }

  function filterCategory(category) {
    currentCategory = category;
    document.querySelectorAll(".categories button").forEach(btn => {
      btn.classList.toggle("active", btn.textContent === category);
    });
    renderAnimeList();
  }

  function searchAnime() {
    currentSearch = document.getElementById("search").value.trim();
    renderAnimeList();
  }

  function showDetails(id) {
    const anime = animeData.find(a => a.id === id);
    if (!anime) return;

    document.getElementById("anime-img").src = anime.image;
    document.getElementById("anime-title").textContent = anime.title;
    document.getElementById("anime-description").textContent = anime.description;

    const episodesList = document.getElementById("episodes-list");
    episodesList.innerHTML = "";

    anime.episodes.forEach((ep, index) => {
      const epBtn = document.createElement("button");
      epBtn.textContent = ep.title;
      epBtn.onclick = () => {
        document.querySelectorAll(".episodes button").forEach(b => b.classList.remove("active"));
        epBtn.classList.add("active");
        showVideo(ep.url);
      };
      episodesList.appendChild(epBtn);
      if (index === 0) {
        epBtn.classList.add("active");
        showVideo(ep.url);
      }
    });

    animeList.style.display = "none";
    details.style.display = "block";
  }

  function showMain() {
    details.style.display = "none";
    animeList.style.display = "grid";
  }

  function showVideo(url) {
    let video = document.querySelector(".episodes video");
    if (!video) {
      video = document.createElement("video");
      video.controls = true;
      video.autoplay = true;
      video.style.width = "100%";
      document.getElementById("episodes-list").appendChild(video);
    }

    if (video.src !== url) {
      video.src = url;
      video.load();
      video.play();
    }

    // âœ… ØªØ¯ÙˆÙŠØ± ØªÙ„Ù‚Ø§Ø¦ÙŠ Ù„Ù„ÙˆØ¶Ø¹ Ø§Ù„Ø£ÙÙ‚ÙŠ
    if (screen.orientation && screen.orientation.lock) {
      screen.orientation.lock("landscape").catch((err) => {
        console.warn("Ù„Ù… ÙŠØªÙ… Ù‚ÙÙ„ Ø§Ù„ØªØ¯ÙˆÙŠØ±:", err);
      });
    }
  }

  function shareSite() {
    if (navigator.share) {
      navigator.share({
        title: "Ghost Anime",
        url: location.href
      }).catch(console.error);
    } else {
      alert("Ù…ÙŠØ²Ø© Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ© ØºÙŠØ± Ù…Ø¯Ø¹ÙˆÙ…Ø© ÙÙŠ Ù…ØªØµÙØ­Ùƒ.");
    }
  }

  renderAnimeList();
</script>

</body>
</html>
